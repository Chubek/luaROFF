# luaROFF: a Lua Extension Preprocessor for GROFF

This here, `pplua(1)`, is a preprocessor for GROFF, similar to `eqn(1)` or `tbl(1)`. According to legend, this is one of the few preprocessors written for this software, whose one of the last remaining uses as a manpage renderer has been outposted by `mandoc(1)` --- and it is entirely generated by Opus 4.6, so it is released under the Unlicense plaque, which I recommend to everyone wishing to release their AI-made software to the public.

luaROFF (which we interchangbly use with `pplua(1)`) is far from being the 'GROF equivalent of LuaLaTeX" -- first off, people actually worked on LuaTeX and it was not slop. Secondly, the structure of ROFF is just different than that of TeX. Thankfully, this is the same pipeline-based structure that allows us to construct software like this. I honestly like both TeX and ROFF and I hold none over the other, but admittedly, ROFF's tooling is better than TeX.

This software uses the Sol2 header-only C++ library to interoperate with Lua. I shipped it alongside the repository. If you are one of the owners and maintainers of Sol2 and do not wish your software to be shipped alongside AI slop, open up an issue and I'll remove it. Sol2's license allows it to be shipped as an external library, I'm just doing it out of kindess of my heart. Several days ago, a girl informed me that "I am way out of her league" --- don't hold your breathe, that is indeed, according to the semantics of propositional logic, a valid statement. It's only when we use higher-order logic that the constraint breaks. Hot studs like me do not ship libraries when their owners do not approve.

I don't think any proprietor of Sol2 will see this repository, so I digress. I only did this preprocessor in C++ because of Sol2. A very robust piece of metaprogramming. I am not shipping Lua, though. You can install it yourself from your package manager. Lua does not need separate dev builds, even if you use Debian. Lua is the library itself. A sort of homoiconocity of extensions.

To install this application, alongside the manpage:

```sh
$ mkdir build && cd build
$ cmake ..
$ make && make install
```

The documentation is available in `docs/VADE_MECUM.md`. You can view it online [here](https://chubak.neocities.org/luaroff-vade-mecum). There is a Vim/Neovim syntax file in `contrib/`, plus a theme for `bat(1)`.

The best way to grok luaROFF is to:
1. Read the manpage, just type in `man pplua` and press enter in your terminal;
2. Study the examples in the `examples/` directory;

Short and sweet, luaROFF offers a substrate on top of what ROFF already has, through `.lua` and `.endlua` blocks, plus a Lua library called `lroff` which offers many facilities for interoperating with the regular ROFF requests. You could also evaluate an expression inline using the `\lua` escape command. I recommend reading the documentation on the web address I linked to.

I realize this AI slop, but you can send AI slop PRs! I will not accept crappy PRs, just because this is slop, that does not mean your can spam it. This still a very useful program. For example, you can use it for syntax highlighting.

Thanks, 
~ Chubak
